<!DOCTYPE html>
<html>
  <head>
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='css/style.css') }}"
    />
    <script src="{{ url_for('static', filename='js/myscript.js') }}"></script>
    <link
      rel="stylesheet"
      crossorigin="anonymous"
      href="https://cdn.jsdelivr.net/npm/bootstrap@4.1.3/dist/css/bootstrap.min.css"
      integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO"
    />
    <script
      src="https://code.jquery.com/jquery-3.6.4.slim.js"
      integrity="sha256-dWvV84T6BhzO4vG6gWhsWVKVoa4lVmLnpBOZh/CAHU4="
      crossorigin="anonymous"
    ></script>

    <link
      rel="stylesheet"
      href="https://cdn.datatables.net/1.13.4/css/dataTables.bootstrap4.min.css"
    />
    <script src="https://cdn.datatables.net/1.13.4/js/jquery.dataTables.min.js"></script>
    <script src="https://cdn.datatables.net/1.13.4/js/dataTables.bootstrap4.min.js"></script>

    <title>Index Page</title>
  </head>
  <body>

    <div class="container">
      <div style="margin-top: 100px">
        <div style="display: flex; justify-content: end; margin-bottom: -50px">
          <button id="updateButton" class="updateBTN" onclick="clicks()">
            Refresh Database
          </button>
        </div>

        <div id="spinner" style="visibility: hidden; text-align: center">
          <img
            src="{{ spinner_url }}"
            alt="Loading..."
            width="50"
            height="50"
          />
        </div>
        <table id="data-table" class="table table-striped responstable" style="width: 100%">
          <thead>
            <tr class="head">
              <th>Id</th>
              <th>Movie Name</th>
              <th>IMDB ID</th>
              <th>Release Date</th>
            </tr>
          </thead>
          <tbody>
            {% for data in profiles %}
            <tr>
              <td>{{data.id}}</td>
              <td>{{data.movie_name}}</td>
              <td>{{data.imdb_id}}</td>
              <td>{{data.release_date}}</td>
            </tr>
            {% endfor%}
          </tbody>
        </table>
      </div>
    </div>
  </body>
</html>

<script>
  $(document).ready(function () {
    $("#data-table").DataTable();
  });
</script>
